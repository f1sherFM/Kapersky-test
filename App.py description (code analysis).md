## Основные компоненты и их функции:

### 1. Конфигурация
- `INPUT_CSV` - путь к входному CSV-файлу с данными для анализа
- `OUTPUT_DIR` - директория для сохранения результатов
- `HEADERS` - HTTP-заголовки для веб-запросов

### 2. Ключевые функции:

#### `extract_text_from_url(url)`
- Извлекает основной текст со страницы по URL
- Удаляет ненужные элементы (скрипты, стили, навигацию и т.д.)
- Ищет основной контент в тегах `<article>` или определенных классах
- Возвращает очищенный текст или сообщение об ошибке
- Использует декоратор `@retry` для повторных попыток при ошибках

#### `compare_texts(original_text, lib_text)`
- Сравнивает оригинальный текст с текстом из библиотеки
- Нормализует тексты (удаляет лишние пробелы, приводит к нижнему регистру)
- Вычисляет процент сходства с помощью `difflib.SequenceMatcher`
- Находит пропущенные и добавленные строки
- Возвращает словарь с метриками сравнения

#### `generate_ai_analysis(comparison_data)`
- Генерирует текстовый анализ на основе результатов сравнения
- Оценивает уровень сходства (высокий/умеренный/низкий)
- Анализирует пропущенные и добавленные строки
- Формирует вывод о характере расхождений

#### `save_results(results)`
- Сохраняет результаты в JSON и CSV форматах
- Формирует полный отчет с метаданными и деталями по каждой статье
- Включает AI-анализ для успешно обработанных статей

#### `generate_comprehensive_report(results)`
- Создает комплексный отчет в Excel с тремя листами:
  1. "Сводка" - основные метрики и рекомендации
  2. "Детали сравнения" - примеры расхождений
  3. "Аналитика" - общая статистика и выводы

#### `main()`
- Основная функция, которая:
  - Создает директорию для результатов
  - Читает входной CSV-файл
  - Обрабатывает каждую запись (URL + текст из библиотеки)
  - Сохраняет результаты и генерирует отчеты

### 3. Рабочий процесс:
1. Чтение входных данных из CSV (URL и соответствующие тексты)
2. Для каждого URL:
   - Загрузка оригинального текста со страницы
   - Сравнение с текстом из библиотеки
   - Анализ различий
3. Сохранение результатов в различных форматах (JSON, CSV, Excel)
4. Генерация HTML-отчета (через функцию `generate_html_report`)

### 4. Особенности:
- Обработка ошибок с повторными попытками
- Подробный анализ различий (количественный и качественный)
- Автоматическая генерация рекомендаций по улучшению
- Визуализация результатов в разных форматах
- Прогресс-бар для отслеживания выполнения (через `tqdm`)
